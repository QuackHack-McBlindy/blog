<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Blog about declarative home automation, smart home systems, and avoiding vendor lock-in with Nix-based solutions">
    <meta property="og:title" content="Declarative Home Automation with Nix">
    <meta property="og:description" content="Learn how to define your smart home devices and avoid vendor lock-in">
    <meta property="og:type" content="article">
    <meta name="twitter:card" content="summary_large_image">
    <title>ü¶Üüßë‚Äçü¶Ø'blog</title>
    <link rel="stylesheet" href="../css/styles.css">
</head>
<body>

    <div class="navbar">
        <div class="navbar-content">
            <a href="https://github.com/QuackHack-McBlindy" title="GitHub">
                <img src="../img/github_teal.png" alt="GitHub" class="github-icon" style="height: 32px;" onmouseover="this.src='../img/github_magenta.png';" onmouseout="this.src='../img/github_teal.png';"> </img>
            </a>
            
            <div class="navbar-title">
                <span>ü¶Ü</span>üßë‚Äçü¶Ø <a href="https://quackhack-mcblindy.github.io/blog/">QuackHack-McBlindy blog</a>
            </div>
            <img src="../img/logo.png" height="48" width="48" >
            <button id="duckToggle" class="toggle-btn" aria-label="Toggle duck commentary">

                <span class="duck-icon">ü¶Ü</span>
                Hide duck commentary
            </button>
        </div>
    </div>
    

    <div class="toc-container">
        <details class="toc-details">
            <summary class="toc-header">
                <span class="toc-duck">ü¶Ü</span>
                <h3>Navigation</h3>
                <span class="toc-man">üßë‚Äçü¶Ø</span>
                <span class="toc-toggle">‚Æü</span>
            </summary>
            <nav class="toc-nav">
                <a href="../yo/index.html" class="toc-item">
                    <span class="toc-icon">ü´Ä</span>
                    Yo - Define & Unify
                </a>
                <a href="../do/index.html" class="toc-item">
                    <span class="toc-icon">üß†</span>
                    Do - Listen, Process, Act & Learn
                </a>
                <a href="index.html" class="toc-item current">
                    <span class="toc-icon">üè†</span>
                    House - Declarative Home Automation
                    <span class="current-marker">‚Æúü¶Ü</span>
                </a>
               <a href="../docs/index.html" class="toc-item">
                    <span class="toc-icon">üìö</span>
                    Documentation - Automating the README
                </a>
                <a href="../misc/index.html" class="toc-item">
                    <span class="toc-icon">üß©</span>
                    Miscellaneous 
                </a>
            </nav>
            <div class="toc-footer">
                <span class="toc-quack">ü¶Ü says ‚Æû qwack qwack, plx pick!</span>
            </div>
        </details>
    </div>
    
  
    <div class="content">
        <header class="category-title">
            <h1>Defining Your Home</h1>
            <p class="subtitle">The module I am configuring today is: <a href="https://github.com/QuackHack-McBlindy/dotfiles/blob/main/modules/house.nix">modules/house.nix</a><br></p>
        </header>

        
        <div class="duck-comment">
            <p>says ‚Æû I use 20x magnification when I code and debug. I use emoji to simplify logs for myself. If you can't handle my code style you can disable most of it on this website by toggling the button in the navbar. Shall duck continue? </p>
        </div>

  
        <p>
            Today we are defining our Smart Home devices, scenes, and configure other options that helps setup our home.<br>
            I will try to keep this as short as possible as there is not much to say about defining devices - and to reduce the risk of this becoming a massive series.<br> 
            
        </p>
        
        <h2 class="section-title">Rooms</h2>
        
        <p>
            Let's start with the basic building blocks - defining the rooms in your home.<br>
            This creates logical groups for your devices and enables room-specific automations.<br>
            
        </p>
        
        <details class="code-block-container" style="margin-bottom: 1em;" open>
          <summary class="code-header">
              <div class="code-lang">‚Æû View room code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü duck say ‚Æû qwack
  house = {
    rooms = {
      bedroom.icon    = "mdi:bed";
      hallway.icon    = "mdi:door";
      kitchen.icon    = "mdi:food-fork-drink";
      livingroom.icon = "mdi:sofa";
      wc.icon         = "mdi:toilet";
      other.icon      = "mdi:misc";
    };
   
</span><span class="clean-version hidden">
{
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {
    rooms = {
      bedroom.icon    = "mdi:bed";
      hallway.icon    = "mdi:door";
      kitchen.icon    = "mdi:food-fork-drink";
      livingroom.icon = "mdi:sofa";
      wc.icon         = "mdi:toilet";
      other.icon      = "mdi:misc";
    };
</span></pre>
            </div>
        </div>
    </details>        

    <p>Each room gets a fancy icon! Makes the dashboard much cleaner and more enjoyable to use.<br>


        <div class="callout">
            <p>
                Using consistent room naming makes automations much easier to manage and understand later.
            </p>
        </div>
        <br>      
               
        <div class="duck-comment">
            <p>‚Æû qwack simple huh? - letz move on</p>
        </div>
        <br><br>


        <h2 class="section-title">Quick Quack Mosquitto Stuff</h2>
        
        <p>
            To simplify I enter basic Mosquitto information into the house module:<br>
        </p>
        
        <details class="code-block-container" style="margin-bottom: 1em;" open>
          <summary class="code-header">
              <div class="code-lang">‚Æû View Zigbee/Mosquitto settings code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü says ‚Æû qwack
  house = {   
# ü¶Ü ‚Æû ZIGBEE ‚Æú üêù
    zigbee = {
      # ü¶Ü says ‚Æû safety first! not dat good 2 expose
      networkKeyFile = config.sops.secrets.z2m_network_key.path;
      
      mosquitto = {
        username = "mqtt";
        passwordFile = config.sops.secrets.mosquitto.path;
      };
    };
    
  };}   
</span><span class="clean-version hidden">
{
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {   
    zigbee = { 
      networkKeyFile = config.sops.secrets.z2m_network_key.path;
      
      mosquitto = {
        username = "mqtt";
        passwordFile = config.sops.secrets.mosquitto.path;
      };
    };
    
  };}
</span></pre>
            </div>
        </div>
    </details>        

        <p>
           A Zigbee network key is a shared secret key used to encrypt and protect all communication within a Zigbee network.<br>
           Think of it as the master password for the entire network. It is generated by the coordinator and is used to:<br><br>
           
           <strong>1. Securely allow new devices to join the network.</strong><br>
          
           <strong>2. Encrypt and decrypt all messages sent between devices.</strong><br><br>

           For security reasons I do not expose this key.<br>
           Technically, you can skip configuring the key, but since we are building a fully reproducable home automation system here, we choose to define and encrypt it.<br>
           I encrypt it using sops. To do this I save the key as a json file in the following format:<br>
           

        <details class="code-block-container" style="margin-bottom: 1em;" open>
          <summary class="code-header">
              <div class="code-lang">‚Æû View Zigbee Netwoork Key in json</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{
	"zigbee_network_key": [
                83,
                174,
                42,
                219,
                156,
                77,
                201,
                23,
                189,
                210,
                101,
                54,
                147,
                225,
                18,
                92
	]
}
</span><span class="clean-version hidden">
{
	"zigbee_network_key": [
                83,
                174,
                42,
                219,
                156,
                77,
                201,
                23,
                189,
                210,
                101,
                54,
                147,
                225,
                18,
                92
	]
}
</span></pre>
            </div>
        </div>
    </details>        

           

        <h2 class="section-title">Coordinator Configuration - Symlinking the Serial Port</h2>
        
        <p>
            Zigbee <i>(IEEE 802.15.4)</i> provides the wireless mesh network that connects all our devices, <br>
            You need a coordinator to be able to communicate with your Zigbee devices.<br>
            Since we are writing a reproducible declarative configuration, it should not matter which USB port the coordinator is connected to.<br>
            That is why we are symlinking the serial port to a specific address.<br>
            In the example below I will be symlinking my Sonoff Zigbee 3.0 USB Dongle Plus from "/dev/ttyUSB0" to "/dev/zigduck" 
        </p>
        
        <details class="code-block-container" style="margin-bottom: 1em;" open>
          <summary class="code-header">
              <div class="code-lang">‚Æû View coordinator code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü duck say ‚Æû qwack
  house = {   
# ü¶Ü ‚Æû ZIGBEE ‚Æú üêù
    zigbee = {
  # ü¶Ü ‚Æû COORDINATOR ‚Æú      
      coordinator = { 
        vendorId = "10c4"; # ü¶Ü duck say ‚Æû use `lsusb`
        productId = "ea60"; # ü¶Ü duck say ‚Æû or `udevadm info -q property -n /dev/ttyUSB0`
        symlink = "zigduck"; # ü¶Ü duck say ‚Æû now you can use as /dev/zigduck
      };  
</span><span class="clean-version hidden">
{
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {   
    zigbee = { 
      coordinator = { 
        vendorId = "10c4";
        productId = "ea60";
        symlink = "zigduck";
      };  
</span></pre>
            </div>
        </div>
    </details>        

     
    <p>
        Cool huh? But you are thinking "What if i don't know the vendorId or productId?"<br>
        No worries, I will show you two approaches to finding them.<br> 
        Make sure your Zigbee coordinator is connected to the serial port on the host that you are running the commands from.<br>
    </p> 



        <details class="code-block-container" style="margin-bottom: 1em;">
          <summary class="code-header">
              <div class="code-lang">‚Æû View `lsusb` output</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
QuackHack-McBlindy in üåê homie in ü¶Üüè† HOME 
21:54:54 ‚ùØ lsusb 
Bus 001 Device 004: ID 05e3:0608 
Bus 001 Device 003: ID 08bb:2902 
Bus 001 Device 001: ID 1d6b:0002 
                      # ‚Æü ü¶Ü says ‚Æû diz iz da vendorId
Bus 001 Device 002: ID 10c4:ea60 
                           # ‚Æù ü¶Ü says ‚Æû diz iz da productId
Bus 002 Device 001: ID 1d6b:0003
</span><span class="clean-version hidden">
QuackHack-McBlindy in üåê homie in ü¶Üüè† HOME 
21:54:54 ‚ùØ lsusb 
Bus 001 Device 004: ID 05e3:0608 
Bus 001 Device 003: ID 08bb:2902 
Bus 001 Device 001: ID 1d6b:0002 
Bus 001 Device 002: ID 10c4:ea60 
Bus 002 Device 001: ID 1d6b:0003
</span></pre>
            </div>
        </div>
    </details>   

        
        <p>
            As you can see in the `lsusb` output the first four characters in the ID is the vendorId, and the four last characters the productId.<br> 
            If you are looking for another solution, using the `udevadm info` command is also a simple way of getting the ID's.<br> 
        </p>


        <details class="code-block-container" style="margin-bottom: 1em;">
          <summary class="code-header">
              <div class="code-lang">‚Æû View `udevadm info -q property -n /dev/ttyUSB0` output</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
QuackHack-McBlindy in üåê homie in ü¶Üüè†  HOME 
‚ú¶ 22:12:53 ‚ùØ udevadm info -q property -n /dev/ttyUSB0
DEVPATH=/devices/pci0000:00/0000:00:14.0/usb1/1-1/1-1:1.0/ttyUSB0/tty/ttyUSB0
DEVNAME=/dev/ttyUSB0
MAJOR=188
MINOR=0
SUBSYSTEM=tty
USEC_INITIALIZED=6546849
PATH=/nix/store/gmydihdyaskbwkqwkn5w8yjh9nzjz56p-udev-path/bin:/nix/store/gmydi>
ID_BUS=usb
ID_MODEL=Sonoff_Zigbee_3.0_USB_Dongle_Plus # ü¶Ü duck say ‚Æû obviously correct port
ID_MODEL_ENC=Sonoff\x20Zigbee\x203.0\x20USB\x20Dongle\x20Plus
ID_MODEL_ID=ea60
ID_SERIAL=Silicon_Labs_Sonoff_Zigbee_3.0_USB_Dongle_Plus_0001
ID_SERIAL_SHORT=0001
ID_VENDOR=Silicon_Labs
ID_VENDOR_ENC=Silicon\x20Labs
ID_VENDOR_ID=10c4 # ü¶Ü duck say ‚Æû here is da vendorId
ID_REVISION=0100
ID_TYPE=generic
ID_USB_MODEL=Sonoff_Zigbee_3.0_USB_Dongle_Plus
ID_USB_MODEL_ENC=Sonoff\x20Zigbee\x203.0\x20USB\x20Dongle\x20Plus
ID_USB_MODEL_ID=ea60 # ü¶Ü duck say ‚Æû here is da productId
ID_USB_SERIAL=Silicon_Labs_Sonoff_Zigbee_3.0_USB_Dongle_Plus_0001
ID_USB_SERIAL_SHORT=0001
</span><span class="clean-version hidden">
QuackHack-McBlindy in üåê homie in ü¶Üüè†  HOME 
‚ú¶ 22:12:53 ‚ùØ udevadm info -q property -n /dev/ttyUSB0
DEVPATH=/devices/pci0000:00/0000:00:14.0/usb1/1-1/1-1:1.0/ttyUSB0/tty/ttyUSB0
DEVNAME=/dev/ttyUSB0
MAJOR=188
MINOR=0
SUBSYSTEM=tty
USEC_INITIALIZED=6546849
PATH=/nix/store/gmydihdyaskbwkqwkn5w8yjh9nzjz56p-udev-path/bin:/nix/store/gmydi>
ID_BUS=usb
ID_MODEL=Sonoff_Zigbee_3.0_USB_Dongle_Plus
ID_MODEL_ENC=Sonoff\x20Zigbee\x203.0\x20USB\x20Dongle\x20Plus
ID_MODEL_ID=ea60
ID_SERIAL=Silicon_Labs_Sonoff_Zigbee_3.0_USB_Dongle_Plus_0001
ID_SERIAL_SHORT=0001
ID_VENDOR=Silicon_Labs
ID_VENDOR_ENC=Silicon\x20Labs
ID_VENDOR_ID=10c4
ID_REVISION=0100
ID_TYPE=generic
ID_USB_MODEL=Sonoff_Zigbee_3.0_USB_Dongle_Plus
ID_USB_MODEL_ENC=Sonoff\x20Zigbee\x203.0\x20USB\x20Dongle\x20Plus
ID_USB_MODEL_ID=ea60
ID_USB_SERIAL=Silicon_Labs_Sonoff_Zigbee_3.0_USB_Dongle_Plus_0001
ID_USB_SERIAL_SHORT=0001
</span></pre>
            </div>
        </div>
    </details>        


        <div class="duck-comment">
            <p>says ‚Æû woow! u can now reference da stick as `/dev/zigduck` in ur z2m configuration!<br>i will talk about dat in teh next post - promise! </p>
        </div>

      
      
        <h2 class="section-title">Devices - Lights, Sensors, Dimmers etc</h2>
        
        <p>
            I hope you have a bunch of devices ready! Here's where we define every Zigbee device in the home.<br>
            Each device is defined by their unique identifier, the devices IEEE address.<br>
        </p>
        
        <details class="code-block-container" style="margin-bottom: 1em;">
          <summary class="code-header">
              <div class="code-lang">‚Æû View device code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü duck say ‚Æû qwack
  house = {   
# ü¶Ü ‚Æû ZIGBEE ‚Æú üêù
    zigbee = {
  # ü¶Ü ‚Æû DEVICES ‚Æú      
      devices = { 
        # ü¶Ü says ‚Æû Kitchen   
        "0x0017880103ca6e95" = { # ü¶Ü says ‚Æû 64bit IEEE address (this is the unique device ID)  
          friendly_name = "Dimmer Switch K√∂k"; # ü¶Ü says ‚Æû simple human readable friendly name
          room = "kitchen"; # ü¶Ü says ‚Æû bind to group
          type = "dimmer"; # ü¶Ü says ‚Æû set da device type (lib.types.enum [ "light" "dimmer" "sensor" "motion" "outlet" "remote" "pusher" "blind" ];)
          icon = "mdi-toggle-switch"; # ü¶Ü says ‚Æû for da frontend yo
          endpoint = 1; # ü¶Ü says ‚Æû endpoint to call the device on
          batteryType = "CR2450"; # ü¶Ü says ‚Æû optional yo
        }; # ü¶Ü says ‚Æû see dat batteryType? duck never surprised by dead devices! sneaky track battery sweet QWACK!
        "0x0017880102f0848a" = { 
          friendly_name = "Spotlight k√∂k 1";
          room = "kitchen";
          type = "light";
          supports_color = true; # ü¶Ü says ‚Æû default to false
          icon = "mdi-spotlight";
          endpoint = 11;
        };
        # ü¶Ü says ‚Æû next device here
</span><span class="clean-version hidden">
{
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {   
    zigbee = { 
      devices = { 
        "0x0017880103ca6e95" = {  
          friendly_name = "Dimmer Switch K√∂k";
          room = "kitchen";
          type = "dimmer";
          icon = "mdi-toggle-switch";
          endpoint = 1;
          batteryType = "CR2450"; # ü¶Ü says ‚Æû optional yo
        };
        "0x0017880102f0848a" = { 
          friendly_name = "Spotlight k√∂k 1";
          room = "kitchen";
          type = "light";
          supports_color = true;
          icon = "mdi-spotlight";
          endpoint = 11;
        };
</span></pre>
            </div>
        </div>
    </details>        

     
    <p>
        Keep adding the rest of your devices - if you are anything like me - the list will be long and take a while.<br>
        We're moving on to:
    </p> 


    <div class="callout">
        <p>
            <strong>Smart Validation:</strong> The system automatically validates your configuration - 
            checking room existence, device names, scene consistency, and catching duplicates before 
            you even deploy.
        </p>
    </div>


        <h2 class="section-title">Scenes - Setting the Mood</h2>
        
        <p>
            Scenes allow you to configure multiple lights with specific colors, brightness, and transitions.<br> 
            Perfect for different activities and moods.
        
        <details class="code-block-container" style="margin-bottom: 1em;">
          <summary class="code-header">
              <div class="code-lang">‚Æû View scenes code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü duck say ‚Æû qwack
  house = {   
# ü¶Ü ‚Æû ZIGBEE ‚Æú üêù
    zigbee = {
  # ü¶Ü ‚Æû SCENES ‚Æú      
      scenes = {
        # ü¶Ü says ‚Æû Scene name
        "Duck Scene" = {
          # ü¶Ü says ‚Æû Device friendly_name
          "Light1" = { 
            state = "ON"; # ü¶Ü says ‚Æû Device state
            brightness = 200; # ü¶Ü says ‚Æû brightness (0-255)
            color = { hex = "#00FF00"; }; # ü¶Ü says ‚Æû only if support_color is true for the device
            transition = 10; # ü¶Ü says ‚Æû state change transition time in seconds 
          };
          "Light2" = {
            state = "ON";
            brightness = 200;
            color = { hex = "#00FF00"; };
          };          
        };
        # ü¶Ü says ‚Æû next scene
</span><span class="clean-version hidden">
{
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {   
    zigbee = {   
      scenes = {
        "Duck Scene" = {
          "Light1" = {
            state = "ON";
            brightness = 200;
            color = { hex = "#00FF00"; };
            transition = 10; 
          };
          "Light2" = {
            state = "ON";
            brightness = 200;
            color = { hex = "#00FF00"; };
          };          
        };
</span></pre>
            </div>
        </div>
    </details>        

     
    <p>
        Keep typing up and defining all your favourite scenes. <br>
        It might be a bit of a drag if you have a lot of devices/scenes, <br>
        but it's totally worth it because this time - You know it will be your last time!<br>
        This completes our zigbee configuration for now. <br>
        We have our hosts defined in Nix, we have our lightbulbs, our scenes, our sensors and other Zigbee devices.<br>
        You really thought I was going to let you go without defining our TV's?! - Since I can't see I rarely watch myself - but I hear the TV is quite popular.<br>
        Let's get to it.
    </p> <br>


        <h2 class="section-title">Bonus - TV Devices & Channel Definitions</h2>
        
        <p>
            Who needs cable when you have Nix? Let's define our TV devices with the same declarative approach.<br>
            This gives us unified control over our Android TV devices using Android Debug Bridge, complete with per-device channel definitions and automated TV guides.<br>
        
        <details class="code-block-container" style="margin-bottom: 1em;">
          <summary class="code-header">
              <div class="code-lang">‚Æû View TV code block</div>
          </summary>
              <div class="code-block">
                <pre><span class="duck-version">
{ # ü¶Ü duck say ‚Æû my house - qwack 
  config,
  lib,
  pkgs,
  ...
} : let
in { # ü¶Ü duck say ‚Æû qwack
  house = {   
  # ü¶Ü ‚Æû TV ‚Æú
    tv = {
      shield = { # ü¶Ü says ‚Æû Device name 
        enable = true;
        room = "livingroom";
        ip = "192.168.1.223";
        apps = { # ü¶Ü says ‚Æû define applications
          telenor = "se.telenor.stream/.MainActivity";
          tv4 = "se.tv4.tv4playtab/se.tv4.tv4play.ui.mobile.main.BottomNavigationActivity";
        }; # ü¶Ü says ‚Æû per-device channel definitions
        channels = {     
          "1" = {
            name = "SVT1";
            id = 1; # ü¶Ü says ‚Æû adb channel ID
            # ü¶Ü says ‚Æû OR
            # stream_url = "https://url.com/"; # ü¶Ü recommendz ‚Æû if u can, use diz arrr! üè¥‚Äç‚ò†Ô∏èü¶Ü
            cmd = "open_telenor && wait 5 && start_channel_1";
            # ü¶Ü says ‚Æû automagi generated tv-guide web & EPG          
            icon = ./themes/icons/tv/1.png;
            scrape_url = "https://tv-tabla.se/tabla/svt1/";          
          }; # ü¶Ü says ‚Æû next channel
          "2" = {
            id = 2; 
            name = "SVT2";
            cmd = "open_telenor && wait 5 && start_channel_2";
            icon = ./themes/icons/tv/2.png;          
            scrape_url = "https://tv-tabla.se/tabla/svt2/";
          };
        };
      };
      # ü¶Ü says ‚Æû next TV device
</span><span class="clean-version hidden">
{ 
  config,
  lib,
  pkgs,
  ...
} : let
in {
  house = {   
    tv = {
      shield = { 
        enable = true;
        room = "livingroom";
        ip = "192.168.1.223";
        apps = { 
          telenor = "se.telenor.stream/.MainActivity";
          tv4 = "se.tv4.tv4playtab/se.tv4.tv4play.ui.mobile.main.BottomNavigationActivity";
        };
        channels = {     
          "1" = {
            name = "SVT1";
            id = 1;
            # stream_url = "https://url.com/";
            cmd = "open_telenor && wait 5 && start_channel_1";        
            icon = ./themes/icons/tv/1.png;
            scrape_url = "https://tv-tabla.se/tabla/svt1/";          
          };
          "2" = {
            id = 2; 
            name = "SVT2";
            cmd = "open_telenor && wait 5 && start_channel_2";
            icon = ./themes/icons/tv/2.png;          
            scrape_url = "https://tv-tabla.se/tabla/svt2/";
          };
        };
      };
</span></pre>
            </div>
        </div>
    </details>        

        
        <p>
    
            This was fun huh?<br><br>
            And this is just the beginning - trust me!<br>
            
            <div class="duck-comment">
                <p>
                    says ‚Æû be sure to stick around!<br>
                    in da next qwack attack duck shows how to configure MQTT & Z2M!<br> 
                    and duck show's how to finally write home automations in Nix yaay!
                </p>
            </div>

            <a href ="part1.html">Part 1. The module, the options and defining devices</a> <span class="current-marker">‚Æúü¶Ühere u are</span><br>
            <a href ="part2.html">Part 2. Configure your Mosquitto/Z2MQTT</a><br>
            <a href ="part3.html">Part 3. Nix Configured Automations</a>  <br>              
            <a href ="part4.html">Part 4. Writing a Server Service - In Rust</a><br>          
            <a href ="part5.html">Part 5. Writing a Client - With Voice Commands</a>   <br>   
            <a href ="part6.html">Part 6. The Auto-Generated Dashboard</a><br>        

            <br><br><br>
    
              
            <a href="https://github.com/QuackHack-McBlindy/dotfiles/blob/main/modules/house.nix" class="source-link">
              View source code on GitHub
            </a><br>


            <section id="comments">
              <h2>Comments on this blog post</h2>
              <script 
                src="https://utteranc.es/client.js"
                repo="QuackHack-McBlindy/blog"
                issue-term="pathname"
                theme="github-light"
                crossorigin="anonymous"
                async>
              </script>
            </section>
        </p>
    </div>



    </div>
    
    <footer>
        <p>All thoughts are my own and should not be considered advice of any kind. More likely the opposite.</p>
    </footer>

    <script src="../js/script.js"></script>
</body>
</html>
